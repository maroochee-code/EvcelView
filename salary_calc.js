// 급여 계산하기 시나리오
const salaryCalcScenario = {
    id: "salary_calc",
    title: "급여 계산하기",
    description: "직원 급여를 체계적으로 계산하는 방법을 학습합니다.",
    
    // 단계별 가이드
    steps: [
        {
            step: 1,
            title: "기본급 및 수당 계산",
            description: "기본급에 각종 수당을 더하여 총 지급액을 계산합니다.",
            functions: ["SUM", "IF", "VLOOKUP"],
            example: {
                data: [
                    ["A", "B", "C", "D", "E"],
                    ["직원명", "기본급", "식대", "교통비", "총지급액"],
                    ["김철수", "3000000", "200000", "150000", "=SUM(B2:D2)"],
                    ["이영희", "3500000", "200000", "150000", "=SUM(B3:D3)"],
                    ["박민수", "2800000", "200000", "150000", "=SUM(B4:D4)"]
                ],
                formula: "=SUM(B2:D2)",
                result: "3,350,000원",
                explanation: "기본급 + 식대 + 교통비를 합산하여 총 지급액을 계산합니다."
            }
        },
        {
            step: 2,
            title: "근무시간별 수당 계산",
            description: "연장근무 시간에 따른 연장수당을 계산합니다.",
            functions: ["IF", "MAX"],
            example: {
                data: [
                    ["A", "B", "C", "D"],
                    ["직원명", "근무시간", "시급", "연장수당"],
                    ["김철수", "45", "15000", "=IF(B2>40,(B2-40)*C2*1.5,0)"],
                    ["이영희", "38", "18000", "=IF(B3>40,(B3-40)*C3*1.5,0)"],
                    ["박민수", "48", "12000", "=IF(B4>40,(B4-40)*C4*1.5,0)"]
                ],
                formula: "=IF(B2>40,(B2-40)*C2*1.5,0)",
                result: "112,500원",
                explanation: "40시간 초과 근무시 1.5배 연장수당을 지급합니다."
            }
        },
        {
            step: 3,
            title: "세금 및 공제액 계산",
            description: "소득세, 국민연금 등 각종 공제액을 계산합니다.",
            functions: ["VLOOKUP", "ROUND"],
            example: {
                data: [
                    ["A", "B", "C", "D", "E"],
                    ["직원명", "총지급액", "소득세", "국민연금", "건강보험"],
                    ["김철수", "3350000", "=ROUND(B2*0.06,0)", "=ROUND(B2*0.045,0)", "=ROUND(B2*0.0335,0)"],
                    ["이영희", "3850000", "=ROUND(B3*0.06,0)", "=ROUND(B3*0.045,0)", "=ROUND(B3*0.0335,0)"]
                ],
                formula: "=ROUND(B2*0.06,0)",
                result: "201,000원",
                explanation: "총지급액의 6%를 소득세로 계산하고 원단위로 반올림합니다."
            }
        },
        {
            step: 4,
            title: "실수령액 계산",
            description: "총지급액에서 공제액을 차감하여 실수령액을 계산합니다.",
            functions: ["SUM"],
            example: {
                data: [
                    ["A", "B", "C", "D"],
                    ["직원명", "총지급액", "총공제액", "실수령액"],
                    ["김철수", "3350000", "=C2+D2+E2", "=B2-C2"],
                    ["이영희", "3850000", "=C3+D3+E3", "=B3-C3"]
                ],
                formula: "=B2-C2",
                result: "2,882,225원",
                explanation: "총지급액에서 총공제액을 차감하여 실제 수령할 금액을 계산합니다."
            }
        }
    ],
    
    // 관련 함수들
    relatedFunctions: [
        {
            name: "SUM",
            usage: "급여 항목들의 합계 계산",
            formula: "=SUM(B2:F2)",
            description: "기본급, 수당들을 모두 합산"
        },
        {
            name: "IF", 
            usage: "조건부 수당 계산",
            formula: "=IF(근무시간>40, 연장수당, 0)",
            description: "연장근무 여부에 따른 수당 지급"
        },
        {
            name: "VLOOKUP",
            usage: "직급별 기본급 조회",
            formula: "=VLOOKUP(직급, 급여표, 2, FALSE)",
            description: "직급에 따른 기본급 자동 조회"
        },
        {
            name: "ROUND",
            usage: "세금 계산시 반올림",
            formula: "=ROUND(B2*0.06, 0)",  
            description: "소수점 이하 원단위 반올림"
        },
        {
            name: "MAX",
            usage: "최대 지급액 제한",
            formula: "=MAX(계산된수당, 최대한도)",
            description: "수당의 최대 지급 한도 적용"
        },
        {
            name: "MIN",
            usage: "최소 지급액 보장",
            formula: "=MIN(계산된금액, 최소보장액)",
            description: "최저임금 등 최소 지급액 보장"
        }
    ],
    
    // 실무 팁
    practicalTips: [
        {
            title: "급여 테이블 구성",
            tip: "직급별 기본급을 별도 테이블로 관리하고 VLOOKUP으로 조회하면 관리가 편리합니다."
        },
        {
            title: "공제액 자동화",
            tip: "세율은 변경될 수 있으므로 상수표를 만들어 참조하는 것이 좋습니다."
        },
        {
            title: "검증 공식",
            tip: "=총지급액-총공제액=실수령액 공식으로 계산 오류를 검증하세요."
        }
    ],
    
    // 템플릿 데이터
    templateData: {
        headers: ["직원명", "직급", "기본급", "식대", "교통비", "연장수당", "총지급액", "소득세", "국민연금", "건강보험", "총공제액", "실수령액"],
        sampleData: [
            ["김철수", "대리", "3000000", "200000", "150000", "112500", "=SUM(C2:F2)", "=ROUND(G2*0.06,0)", "=ROUND(G2*0.045,0)", "=ROUND(G2*0.0335,0)", "=SUM(H2:J2)", "=G2-K2"],
            ["이영희", "과장", "3500000", "200000", "150000", "0", "=SUM(C3:F3)", "=ROUND(G3*0.06,0)", "=ROUND(G3*0.045,0)", "=ROUND(G3*0.0335,0)", "=SUM(H3:J3)", "=G3-K3"],
            ["박민수", "사원", "2800000", "200000", "150000", "180000", "=SUM(C4:F4)", "=ROUND(G4*0.06,0)", "=ROUND(G4*0.045,0)", "=ROUND(G4*0.0335,0)", "=SUM(H4:J4)", "=G4-K4"]
        ]
    }
};